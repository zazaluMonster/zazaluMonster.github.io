# 《函数式编程》Neal Ford著 笔记

1. 使用完美数实现来演示FP的简洁，参数传递，函数复合的特点

## 什么是 函数式编程&Stream

函数式编程&Stream以参数传递和函数的复合作为主要的表现手段

Stream可以说就是为函数式编程而打造的武器，利用Stream的API我们可以写出非常简洁的FP代码

## 为什么学习函数式编程&Stream

1. 在函数式编程越来越高效(至少不像10多年前慢的让人失望)，它能节约开发者的时间和精力

2. 将部分低层次代码细节的控制权转手出来，
    - 比如简单的循环或者迭代代码，我们只需要关注每次循环迭代要做什么事情即可，而不需要自己去编写循环迭代的实现；
    - Stream有些API可以让开发人员简单的利用并行化处理数据，这相当于将原先需要自己实现的多线程处理转手了出来，交给运行时去处理，让开发人员更少的关注线程管理。（但是并不是说开发人员不需要知道这底层的来龙去脉）

3. 闭包特性，这个特性其实我们在java的匿名内部类的使用中就已经充分感受到了， 不过由于闭包是函数式编程必不可少的部分， 我也把它放出来提一下

## 函数式编程&Stream中最常见的三大函数

1. 筛选 filter

2. 映射 map

3. 折叠/化约 folder/reduce, 一般分从左或者从右折叠/化约

## 递归

尾递归优化，Erlang很可能有一些尾递归循环已经在生产系统运行了数年而从未中断

## Stream相关

1. Stream很多方面的行为都与集合相似，但它不像集合那样事先备妥了所有的值，而是需要的时候才让数据从源头“流”向目的地。

2. Stream的各类操作比如map，filter，运行时会有优化，在保证正确性的情况下，就算你代码中先写map后再filter，运行时也许会先执行filter后执行map操作，这样可以减少操作数据的量，提高效率。

## 缓存 记忆

由于函数式编程宣扬的一个特点是编写纯函数，一种输入参数只有唯一一种输出，一一对应，所以这种特点非常契合缓存，我们可以在每次执行函数后缓存这一次执行的结果，在下一次又接收到该参数后直接从缓存中读取。

有些支持函数式编程的语言，内嵌了“记忆”机制，类似mybatis的一级缓存，来加快函数下一次调用的速度，但是貌似Java并没有做这方面支持，需要开发人员额外做出一点努力。

## 缓求值 lazy evaluation



## 备注

即使有了Java8的StreamAPI，他们仍然需要理解Fork/Join库的细节才能写出高性能的代码。 Fork/Join库是JDK7用于并行执行任务的一个框架